name: Download and Unzip Angular Build

on:
  push:
    branches:
      - main

  workflow_dispatch:  
  release:
    types: [published]  # Or trigger automatically when a release is published

jobs:
  download-unzip:
    runs-on: self-hosted

    steps:
      - name: Download latest release asset
        uses: robinraju/release-downloader@v1.11
        with:
          repository: ${{ github.repository }}
          latest: true
          fileName: angular-build.zip
          token: ${{ secrets.GITHUB_TOKEN }}

      - name: Unzip angular-build.zip
        run: |
          echo "ðŸ“¦ Unzipping angular-build.zip..."
          mkdir -p ./unzipped_build
          unzip -o angular-build.zip -d ./unzipped_build
          echo "âœ… Unzip complete. Files inside:"
          ls -lR ./unzipped_build
